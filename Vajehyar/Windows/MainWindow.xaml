<Window
    x:Class="Vajehyar.Windows.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="MainWindow"
    Width="650"
    Height="417"
    Closing="Window_Closing"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    FocusManager.FocusedElement="{Binding ElementName=txtSearch}"
    FontFamily="tahoma"
    MouseDown="Window_MouseDown"
    PreviewKeyDown="Window_PreviewKeyDown"
    StateChanged="Window_StateChanged"
    Style="{StaticResource WindowStyle}"
    Topmost="True"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <Border Style="{StaticResource BorderStyle}">
        <StackPanel>
            <DockPanel>
                <StackPanel
                    DockPanel.Dock="Right"
                    FlowDirection="RightToLeft"
                    Orientation="Horizontal">
                    <Button
                        Width="25"
                        Height="25"
                        VerticalAlignment="Center"
                        Click="Button_Click"
                        Content="🡦"
                        IsCancel="True"
                        Style="{StaticResource ButtonStyle1}">

                        <Button.ToolTip>
                            <ToolTip Style="{StaticResource {x:Type ToolTip}}">
                                قرار دادن برنامه در System Tray
                            </ToolTip>
                        </Button.ToolTip>

                    </Button>

                    <TextBlock
                        Padding="0"
                        VerticalAlignment="Center"
                        FontFamily="{StaticResource IranSans}"
                        FontSize="15"
                        FontWeight="Bold"
                        Foreground="#FF0086C5"
                        Text="واژه یار" />
                    <TextBlock
                        Padding="0"
                        VerticalAlignment="Center"
                        FontFamily="{StaticResource IranSans}"
                        FontSize="12"
                        FontWeight="UltraLight"
                        Foreground="#FF08293A"
                        Text=" (راهنمای واژه‌گزینی برای اهالی قلم)" />

                </StackPanel>

                <StackPanel DockPanel.Dock="Left" Orientation="Horizontal">
                    <Button
                        Name="SettingButton"
                        Width="16"
                        Height="16"
                        Margin="10,0,0,0"
                        Click="TopLeftButton_OnClick"
                        Style="{StaticResource StylelessButtonStyle}">
                        <Image Source="/Vajehyar;component/Resources/Icons/Settings-24.png" />
                    </Button>
                    <Button
                        Name="AboutButton"
                        Width="16"
                        Height="16"
                        Margin="10,0,0,0"
                        Click="TopLeftButton_OnClick"
                        Style="{StaticResource StylelessButtonStyle}">
                        <Image Source="/Vajehyar;component/Resources/Icons/About-24.png" />
                    </Button>
                </StackPanel>
            </DockPanel>

            <StackPanel Margin="10,0,10,10">
                <Grid>

                    <TextBox
                        x:Name="txtSearch"
                        Height="30"
                        Padding="10,0"
                        VerticalContentAlignment="Center"
                        Background="White"
                        BorderBrush="{x:Null}"
                        BorderThickness="2"
                        FlowDirection="RightToLeft"
                        FontWeight="Bold"
                        Foreground="Black"
                        PreviewTextInput="TxtSearch_PreviewTextInput"
                        TextChanged="TxtSearch_TextChanged">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius" Value="10" />
                            </Style>
                        </TextBox.Resources>
                    </TextBox>
                    <TextBlock
                        x:Name="textboxHint"
                        Margin="0,0,12,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        FlowDirection="RightToLeft"
                        Foreground="DarkGray"
                        IsHitTestVisible="False"
                        Text="{Binding Hint, FallbackValue='جستجوی فارسی ...'}">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Text, ElementName=txtSearch}" Value="">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <Label
                        Margin="10,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Content="{Binding ElementName=Datagrid, Path=Items.Count}"
                        ContentStringFormat="{}{0:N0}"
                        FontFamily="{StaticResource IranSansNum}"
                        Opacity=".5" />
                </Grid>


                <Border
                    Height="284"
                    Margin="0,10,0,0"
                    Padding="0"
                    BorderBrush="#FFE0F3FB"
                    BorderThickness="2"
                    CornerRadius="5">
                    <DataGrid
                        x:Name="Datagrid"
                        Margin="0,0,0,8"
                        VerticalContentAlignment="Center"
                        AlternatingRowBackground="#FFFBFBFB"
                        AutoGenerateColumns="False"
                        BorderBrush="{x:Null}"
                        CanUserAddRows="False"
                        CanUserResizeRows="False"
                        EnableColumnVirtualization="True"
                        EnableRowVirtualization="True"
                        FlowDirection="RightToLeft"
                        HeadersVisibility="None"
                        HorizontalGridLinesBrush="White"
                        ItemsSource="{Binding Lines}"
                        RowBackground="#FFCAEDFF"
                        SelectionMode="Single"
                        SelectionUnit="Cell"
                        VerticalGridLinesBrush="White">

                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Mode=OneTime}"
                                CanUserReorder="False"
                                CanUserResize="False"
                                CanUserSort="False">
                                <DataGridTextColumn.ElementStyle>
                                    <Style>
                                        <Setter Property="TextBlock.TextWrapping" Value="Wrap" />
                                        <Setter Property="TextBlock.VerticalAlignment" Value="Center" />
                                        <Setter Property="TextBlock.Padding" Value="7" />
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>

                        <DataGrid.Background>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                <GradientStop Offset="0" Color="#FFEDF9FF" />
                                <GradientStop Offset="1" Color="White" />
                            </LinearGradientBrush>
                        </DataGrid.Background>
                    </DataGrid>
                </Border>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
